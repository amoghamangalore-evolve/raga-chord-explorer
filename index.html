<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raga Chord Explorer - Indian Classical Music Harmony</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üéµ Raga Chord Explorer</h1>
            <p class="subtitle">Discover harmonic possibilities within Indian classical ragas</p>
        </header>

        <div class="controls-section">
            <div class="control-card control-col-8">
                <div class="control-group">
                    <span class="control-label">Tradition</span>
                    <div class="button-group">
                        <button class="btn-chip active" data-tradition="hindustani">Hindustani</button>
                        <button class="btn-chip" data-tradition="carnatic">Carnatic</button>
                    </div>
                </div>
                <div class="control-group">
                    <span class="control-label">Raga</span>
                    <select id="raga-select" class="select">
                        <option value="">Choose a raga...</option>
                    </select>
                </div>
                <div class="control-group">
                    <span class="control-label">Tonic (Sa)</span>
                    <select id="tonic-select" class="select">
                        <option value="C">C</option>
                        <option value="C#">C#/Db</option>
                        <option value="D">D</option>
                        <option value="D#">D#/Eb</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="F#">F#/Gb</option>
                        <option value="G">G</option>
                        <option value="G#">G#/Ab</option>
                        <option value="A">A</option>
                        <option value="A#">A#/Bb</option>
                        <option value="B">B</option>
                    </select>
                </div>
            </div>

            <div class="control-card control-col-4">
                <div class="control-group">
                    <span class="control-label">Options</span>
                    <div class="button-group">
                        <label class="btn-chip option-chip">
                            <input type="checkbox" id="fusion-mode"> Fusion
                        </label>
                        <label class="btn-chip option-chip">
                            <input type="checkbox" id="must-include-sa" checked> Include Sa
                        </label>
                        <label class="btn-chip option-chip">
                            <input type="checkbox" id="drone-enabled" checked> Drone
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <div class="raga-info" id="raga-info" style="display: none;">
            <h3 class="raga-title" id="raga-name"></h3>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">Parent</div>
                    <div class="info-value" id="raga-parent"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">Aroha (Ascending)</div>
                    <div class="info-value" id="raga-aroha"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">Avaroha (Descending)</div>
                    <div class="info-value" id="raga-avaroha"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">Vadi (Principal)</div>
                    <div class="info-value" id="raga-vadi"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">Samvadi (Secondary)</div>
                    <div class="info-value" id="raga-samvadi"></div>
                </div>
                <div class="info-item">
                    <div class="info-label">Drone</div>
                    <div class="info-value" id="raga-drone"></div>
                </div>
            </div>
            <div class="raga-notes" id="raga-notes"></div>
        </div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="chords">Chords</button>
            <button class="tab-btn" data-tab="phrases">Phrases</button>
            <button class="tab-btn" data-tab="metronome">Metronome</button>
            <button class="tab-btn" data-tab="about">About</button>
        </div>

        <div class="tab-content active" id="chords-tab">
            <div class="filter-section">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="strong">‚úÖ Strong</button>
                <button class="filter-btn" data-filter="drone">üé∂ Drone</button>
                <button class="filter-btn" data-filter="color">‚ú® Color</button>
            </div>
            <div id="chords-grid" class="chords-grid">
                <div class="empty-state">
                    <p>Select a raga to see available chords</p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="phrases-tab">
            <div id="phrases-content">
                <div class="empty-state">
                    <p>Select a raga to see characteristic phrases (pakad/chalan)</p>
                </div>
            </div>
        </div>

        <div class="tab-content" id="metronome-tab">
            <div class="metronome-container">
                <div class="metronome-display">
                    <div class="tempo-value" id="tempo-display">120</div>
                    <div class="tempo-label">BPM</div>
                </div>
                <div class="metronome-controls">
                    <input type="range" id="tempo-slider" min="100" max="160" value="120" class="tempo-slider">
                    <div class="tempo-markers">
                        <span>100</span>
                        <span>130</span>
                        <span>160</span>
                    </div>
                </div>
                <div class="metronome-buttons">
                    <button id="metronome-start" class="btn-metronome btn-start">Start</button>
                    <button id="metronome-stop" class="btn-metronome btn-stop" disabled>Stop</button>
                </div>
                <div class="beat-indicator" id="beat-indicator">
                    <div class="beat-dot"></div>
                </div>
            </div>
        </div>

        <div class="tab-content" id="about-tab">
            <div class="about-content">
                <h3>About Raga Chord Explorer</h3>
                <p>This tool generates harmonic chord palettes that respect the melodic constraints of Indian classical ragas. While harmony is not traditional in Hindustani or Carnatic music, this explorer helps modern composers, arrangers, and fusion musicians discover chord voicings that:</p>
                <ul>
                    <li>Use only the swaras (notes) allowed in each raga</li>
                    <li>Emphasize Vadi and Samvadi (principal and secondary notes)</li>
                    <li>Respect aroha/avaroha (ascending/descending) patterns</li>
                    <li>Work with traditional drone (tanpura) accompaniment</li>
                </ul>
                <h4>How to Use</h4>
                <ol>
                    <li>Choose Hindustani or Carnatic tradition</li>
                    <li>Select a raga from the dropdown</li>
                    <li>Set your tonic (Sa) reference pitch</li>
                    <li>Explore generated chords - click to hear them with drone</li>
                    <li>Toggle Fusion Mode to include Western dominant chords</li>
                </ol>
                <h4>Chord Tags</h4>
                <ul>
                    <li><strong>‚úÖ Strong:</strong> Contains Sa + Vadi or Samvadi</li>
                    <li><strong>üé∂ Drone:</strong> Works well with Sa-Pa or Sa-Ma drone</li>
                    <li><strong>‚ú® Color:</strong> Sus, add9, or other extended voicings</li>
                </ul>
                <div class="disclaimer">
                    <p>‚ö†Ô∏è This is a fusion/modern tool. Traditional raga performance is purely melodic. Use this for film music, fusion, and contemporary arrangements while respecting the classical tradition.</p>
                </div>
            </div>
        </div>

        <footer>
            <p>Built for Indian music lovers exploring harmony within raga frameworks</p>
        </footer>
    </div>

    <script src="ragas.js"></script>
    <script src="audio.js"></script>
    <script src="midi.js"></script>
    <script src="app.js"></script>
</body>
</html>
